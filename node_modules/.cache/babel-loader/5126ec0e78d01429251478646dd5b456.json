{"ast":null,"code":"var _jsxFileName = \"/home/eshan/Desktop/react-crud-app/src/components/pages/Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport \"./_home.css\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Draggable from \"react-draggable\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction PaperComponent(props) {\n  return /*#__PURE__*/_jsxDEV(Draggable, {\n    handle: \"#draggable-dialog-title\",\n    cancel: '[class*=\"MuiDialogContent-root\"]',\n    children: /*#__PURE__*/_jsxDEV(Paper, { ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 5\n  }, this);\n}\n\n_c = PaperComponent;\n\nconst Home = () => {\n  _s();\n\n  const [open, setOpen] = React.useState(false);\n  const [toBeDeletedUser, setToBeDeletedUser] = React.useState(\"\");\n\n  const handleClickOpen = user => {\n    setToBeDeletedUser(user.first_name);\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const [users, setUser] = useState([]);\n  useEffect(() => {\n    loadUsers();\n  }, []);\n\n  const deleteUser = async email => {\n    await axios.get(`https://k6j938wg66.execute-api.us-east-1.amazonaws.com/v1/delete?param1=${email}`);\n    loadUsers();\n    setOpen(false);\n  };\n\n  const loadUsers = async () => {\n    const request = await axios.get(\"https://j5ej5u32gg.execute-api.us-east-1.amazonaws.com/v1/fetch\");\n    console.log(request.data.data);\n    setUser(request.data.data);\n  };\n\n  const searchUsers = async searchText => {\n    //console.log(\"seachText is \"+searchText);\n    const request = await axios.get(\"https://j5ej5u32gg.execute-api.us-east-1.amazonaws.com/v1/fetch\"); //console.log(request.data.data);\n\n    var searchedUsers = [];\n\n    for (let i = 0; i < request.data.data.length; i++) {\n      var currUser = request.data.data[i];\n      var toBeAdded = false;\n\n      if (currUser.first_name.includes(searchText)) {\n        toBeAdded = true;\n      } else if (currUser.last_name.includes(searchText)) {\n        toBeAdded = true;\n      } else if (currUser.email.includes(searchText)) {\n        toBeAdded = true;\n      } else if (currUser.states.includes(searchText)) {\n        toBeAdded = true;\n      } else if (currUser.city.includes(searchText)) {\n        toBeAdded = true;\n      } else if (currUser.pincode.includes(searchText)) {\n        toBeAdded = true;\n      }\n\n      if (toBeAdded) {\n        searchedUsers.push(currUser);\n      }\n    } //console.log(searchedUsers);\n\n\n    setUser(searchedUsers);\n  };\n\n  const fetchUsers = async () => {\n    const request = await axios.get(\"https://j5ej5u32gg.execute-api.us-east-1.amazonaws.com/v1/fetch\");\n    console.log(request.data.data);\n    return request.data.data;\n  };\n\n  const onSearchChange = searchText => {\n    console.log(searchText);\n\n    if (searchText == \"\") {\n      //show all\n      loadUsers();\n    } else {\n      //show only specific to search text\n      searchUsers(searchText);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"conatainer\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"middle\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        className: \"add btn noHover\",\n        to: \"/users/add\",\n        children: \"+ Add Record\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input1\",\n        type: \"text\",\n        placeholder: \"search\",\n        onChange: e => onSearchChange(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-1\",\n      children: [/*#__PURE__*/_jsxDEV(\"table\", {\n        class: \"table border shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          class: \"thead\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"tr1\",\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"#\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"FirstName\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"LastName\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"States\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"City\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Pincode\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: users.map((user, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"text-secondary\",\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"row\",\n              children: index + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: user.first_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: user.last_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: user.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: user.states\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: user.city\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: user.pincode\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                className: \"btn btn-primary mr-2 btn1\",\n                to: `/users/edit/${user.email}`,\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                className: \"btn btn-danger btn1\",\n                color: \"primary\",\n                onClick: () => handleClickOpen(user),\n                style: {\n                  color: \"white\",\n                  backgroundColor: \"tomato\",\n                  borderRadius: 20,\n                  padding: 0\n                },\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n                open: open,\n                onClose: handleClose,\n                PaperComponent: PaperComponent,\n                \"aria-labelledby\": \"draggable-dialog-title\",\n                fullWidth: true,\n                children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n                  style: {\n                    cursor: \"move\"\n                  },\n                  id: \"draggable-dialog-title\",\n                  children: [\"Are You Sure to Delete \", toBeDeletedUser, \" ?\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n                  children: /*#__PURE__*/_jsxDEV(DialogContentText, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    autoFocus: true,\n                    onClick: () => deleteUser(user.email),\n                    color: \"primary\",\n                    children: \"Delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    onClick: handleClose,\n                    color: \"primary\",\n                    children: \"Cancel\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 17\n            }, this)]\n          }, index + 1, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"6JrDr9Uppa7tG6n12Ze8Tal9tbE=\");\n\n_c2 = Home;\nexport default Home;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"PaperComponent\");\n$RefreshReg$(_c2, \"Home\");","map":{"version":3,"sources":["/home/eshan/Desktop/react-crud-app/src/components/pages/Home.js"],"names":["React","useState","useEffect","axios","Link","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Paper","Draggable","PaperComponent","props","Home","open","setOpen","toBeDeletedUser","setToBeDeletedUser","handleClickOpen","user","first_name","handleClose","users","setUser","loadUsers","deleteUser","email","get","request","console","log","data","searchUsers","searchText","searchedUsers","i","length","currUser","toBeAdded","includes","last_name","states","city","pincode","push","fetchUsers","onSearchChange","e","target","value","map","index","color","backgroundColor","borderRadius","padding","cursor"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport \"./_home.css\";\n\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Draggable from \"react-draggable\";\n\nfunction PaperComponent(props) {\n  return (\n    <Draggable\n      handle=\"#draggable-dialog-title\"\n      cancel={'[class*=\"MuiDialogContent-root\"]'}\n    >\n      <Paper {...props} />\n    </Draggable>\n  );\n}\n\nconst Home = () => {\n  const [open, setOpen] = React.useState(false);\n  const [toBeDeletedUser, setToBeDeletedUser] = React.useState(\"\");\n  const handleClickOpen = (user) => {\n    \n    setToBeDeletedUser(user.first_name);\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const [users, setUser] = useState([]);\n\n  useEffect(() => {\n    loadUsers();\n  }, []);\n\n  const deleteUser = async (email) => {\n    await axios.get(\n      `https://k6j938wg66.execute-api.us-east-1.amazonaws.com/v1/delete?param1=${email}`\n    );\n    loadUsers();\n    setOpen(false);\n  };\n\n  const loadUsers = async () => {\n    const request = await axios.get(\n      \"https://j5ej5u32gg.execute-api.us-east-1.amazonaws.com/v1/fetch\"\n    );\n    console.log(request.data.data);\n    setUser(request.data.data);\n  };\n\n  const searchUsers = async (searchText) => {\n    //console.log(\"seachText is \"+searchText);\n    const request = await axios.get(\n      \"https://j5ej5u32gg.execute-api.us-east-1.amazonaws.com/v1/fetch\"\n    );\n    //console.log(request.data.data);\n    var searchedUsers = []\n    for (let i=0; i< request.data.data.length;i++) {\n      var currUser = request.data.data[i];\n      var toBeAdded = false;\n      if(currUser.first_name.includes(searchText)){\n        toBeAdded = true;\n        \n      }\n      else if(currUser.last_name.includes(searchText)){\n        toBeAdded = true;\n        \n      }\n      else if(currUser.email.includes(searchText)){\n        toBeAdded = true;\n        \n      }\n      else if(currUser.states.includes(searchText)){\n        toBeAdded = true;\n        \n      }\n      else if(currUser.city.includes(searchText)){\n        toBeAdded = true;\n        \n      }\n      else if(currUser.pincode.includes(searchText)){\n        toBeAdded = true;\n        \n      }\n      if(toBeAdded){\n        searchedUsers.push(currUser);\n      }\n    }\n      //console.log(searchedUsers);\n      setUser(searchedUsers);\n  };\n\n  const fetchUsers = async () => {\n    const request = await axios.get(\n      \"https://j5ej5u32gg.execute-api.us-east-1.amazonaws.com/v1/fetch\"\n    );\n    console.log(request.data.data);\n    return request.data.data;\n  };\n\n  const onSearchChange = (searchText) => {\n    console.log(searchText);\n    if(searchText == \"\"){\n      //show all\n      loadUsers();\n    }else{\n      //show only specific to search text\n      searchUsers(searchText);\n    }\n  };\n  \n  return (\n    <div className=\"conatainer\">\n      <div className=\"middle\">\n        <Link className=\"add btn noHover\" to=\"/users/add\">\n          + Add Record\n        </Link>\n        <input className=\"input1\" type=\"text\" placeholder=\"search\" onChange={(e) => onSearchChange(e.target.value)}/>\n      </div>\n      <div className=\"py-1\">\n        <table class=\"table border shadow\">\n          <thead class=\"thead\">\n            <tr className=\"tr1\">\n              <th scope=\"col\">#</th>\n              <th scope=\"col\">FirstName</th>\n              <th scope=\"col\">LastName</th>\n              <th scope=\"col\">Email</th>\n              <th scope=\"col\">States</th>\n              <th scope=\"col\">City</th>\n              <th scope=\"col\">Pincode</th>\n              <th scope=\"col\">Action</th>\n            </tr>\n          </thead>\n          <tbody>\n            {users.map((user, index) => (\n              <tr className=\"text-secondary\" key={index + 1}>\n                <th scope=\"row\">{index + 1}</th>\n                <td>{user.first_name}</td>\n                <td>{user.last_name}</td>\n                <td>{user.email}</td>\n                <td>{user.states}</td>\n                <td>{user.city}</td>\n                <td>{user.pincode}</td>\n                <td>\n                  <Link\n                    className=\"btn btn-primary mr-2 btn1\"\n                    to={`/users/edit/${user.email}`}\n                  >\n                    Edit\n                  </Link>\n\n                  <Button\n                    className=\"btn btn-danger btn1\"\n                    color=\"primary\"\n                    onClick={ () => handleClickOpen(user)}\n                    style={{\n                      color: \"white\",\n                      backgroundColor: \"tomato\",\n                      borderRadius: 20,\n                      padding: 0,\n                    }}\n                  >\n                    Delete\n                  </Button>\n                  <Dialog\n                    open={open}\n                    onClose={handleClose}\n                    PaperComponent={PaperComponent}\n                    aria-labelledby=\"draggable-dialog-title\"\n                    fullWidth\n                  >\n                    <DialogTitle\n                      style={{ cursor: \"move\" }}\n                      id=\"draggable-dialog-title\"\n                    >\n                      Are You Sure to Delete {toBeDeletedUser} ? \n                    </DialogTitle>\n                    <DialogContent>\n                      <DialogContentText>\n                        \n                      </DialogContentText>\n                    </DialogContent>\n                    <DialogActions>\n                      <Button\n                        autoFocus\n                        onClick={() => deleteUser(user.email)}\n                        color=\"primary\"\n                      >\n                        Delete\n                      </Button>\n                      <Button onClick={handleClose} color=\"primary\">\n                        Cancel\n                      </Button>\n                    </DialogActions>\n                  </Dialog>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n        <div></div>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}